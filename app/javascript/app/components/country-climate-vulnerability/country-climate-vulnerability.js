import { withRouter } from 'react-router-dom';
import { connect } from 'react-redux';
import Component from './country-climate-vulnerability-component';
import actions from './country-climate-vulnerability-actions';

export { initialState } from './country-climate-vulnerability-reducers';
export { default as reducers } from './country-climate-vulnerability-reducers';
export { default as actions } from './country-climate-vulnerability-actions';

const mapStateToProps = state => {
  const { countryClimateVulnerability, adaptations } = state;
  const isObj =
    Object.keys(adaptations.data).length === 0 &&
    adaptations.data.constructor === Object;
  const sections = isObj ? [] : adaptations.data;

  return {
    toogleInfo: countryClimateVulnerability.toogleInfo,
    infoOpen: countryClimateVulnerability.infoOpen,
    sections
  };
};

export default withRouter(connect(mapStateToProps, actions)(Component));
